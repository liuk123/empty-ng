<div class="view-btn-group">
  <span class="dy-info">{{viewInfo.scale}}</span>
  <button nz-button type="button" nzType="default" nzSize="small" (click)="scale(.1)">æ”¾å¤§</button>
  <button nz-button type="button" nzType="default" nzSize="small" (click)="scale(-.1)">ç¼©å°</button>

  <button nz-button type="button" nzType="default" nzSize="small" (click)="saveLocalStorage()">æš‚å­˜</button>
  <button nz-button type="button" nzType="default" nzSize="small" (click)="getLastLocalData()">è·å–ä¸Šæ¬¡ä¿å­˜</button>
  <button nz-button type="button" nzType="default" nzSize="small" (click)="preview()">å…¨éƒ¨æ˜¾ç¤º</button>
  <button nz-button type="button" nzType="default" nzSize="small" (click)="clearViews()">æ¸…ç©º</button>
  <button nz-button type="button" nzType="default" nzSize="small" (click)="exportViews()">å¯¼å‡ºé…ç½®</button>

  <button nz-button type="button" nzType="default" nzSize="small" (click)="1">ç”»å¸ƒè®¾ç½®</button>
  <button nz-button type="button" nzType="default" nzSize="small" (click)="updateData()">æµ‹è¯•</button>
</div>
<div style="display: flex;position: relative;height: calc(100vh - 40px);">
  <div class="sidebar">
    <ul role='list'>
      <li *ngFor="let item of compLibData" class="flex">
        {{item.title}}
        <span class="fill-space"></span>
        <button nz-button nzType="text" nzSize="small" (click)="showAddCompDialog(item)">æ·»åŠ </button>
        <!-- <span class="text-btn" (click)="showAddCompDialog(item)">æ·»åŠ </span> -->
      </li>
    </ul>
  </div>
  <div class="middle-container">
    <!-- æä¾›ç©ºç™½åŒºåŸŸ-æ”¾å¤§ç¼©å°æ—¶é˜²æ­¢æº¢å‡º -->
    <div class="view-container">
      <!-- åŠ¨æ€åˆ›å»ºç»„ä»¶çš„ä¸»ä½“ -->
      <div #viewContainer class="view-main" [style.width.px]="viewInfo.width" [style.height.px]="viewInfo.height"
        [style.transform]="'scale('+viewInfo.scale+')'">
        <!-- å…­æ¡åŸºå‡†çº¿ -->
        <app-mark-line></app-mark-line>
        <!-- èƒŒæ™¯ -->
        <svg class="grid" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <pattern id="smallGrid" width="7.236328125" height="7.236328125" patternUnits="userSpaceOnUse">
              <path d="M 7.236328125 0 L 0 0 0 7.236328125" fill="none" stroke="rgba(207, 207, 207, 0.3)"
                stroke-width="1">
              </path>
            </pattern>
            <pattern id="grid" width="36.181640625" height="36.181640625" patternUnits="userSpaceOnUse">
              <rect width="36.181640625" height="36.181640625" fill="url(#smallGrid)"></rect>
              <path d="M 36.181640625 0 L 0 0 0 36.181640625" fill="none" stroke="rgba(186, 186, 186, 0.5)"
                stroke-width="1">
              </path>
            </pattern>
          </defs>
          <rect width="100%" height="100%" fill="url(#grid)"></rect>
        </svg>
      </div>
    </div>
  </div>
  <div class="opt-container">
    <div class="item">
      <strong>ğŸ”¹è§†å›¾ç»„ä»¶ï¼š</strong>
      <span *ngFor="let item of selectedCompTreeData">{{item?.title}}</span>
    </div>
    <div class="item">
      <strong>ğŸ”¹ç»„ä»¶æ ‘</strong>
      <app-nodes-tree [data]="[compTreeData]" children="children" (ckEvent)="setActiveComp($event)"
        [menuDown]="menuDown" (optCkEvent)="optCk($event)"></app-nodes-tree>
    </div>
    <div class="item">
      <strong>ğŸ”¹å±æ€§ï¼š</strong>
      <div>{{activeCompData?.title}}({{contentIndex}})</div>
      <div>
        <span>x:{{activeCompData?.styles.left}}</span>
        <span>y:{{activeCompData?.styles.top}}</span>
        <span>rotate:{{activeCompData?.styles.rotate}}</span>
      </div>
      <div>
        <span>å®½:{{activeCompData?.styles.width}}</span>
        <span>é«˜:{{activeCompData?.styles.height}}</span>
        <span>zIndex:{{activeCompData?.styles.zIndex}}</span>
      </div>
    </div>
    <div class="item">
      <strong>ğŸ”¹ç»„ä»¶æ•°æ®</strong>
      <h4>input</h4>
      <div>
        {{activeCompData?.inputs|json}}
      </div>
      <h4>output</h4>
      <div>
        {{activeCompData?.outputs|json}}
      </div>
      <h4>event</h4>
      <div>
        {{activeCompData?.events|json}}
      </div>
    </div>
  </div>
</div>