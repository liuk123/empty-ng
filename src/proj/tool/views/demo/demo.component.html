<!-- <div style="width:600px;height: 600px;">
  <svg width="100%" height="100%" viewBox="0 0 675 675" fill="#858585" xmlns="http://www.w3.org/2000/svg" class="mandala mandala-rotation"><title>Mandala</title><defs><path d="M337.5,337.5 m-320,0 a320,320 0 1,1 640,0 a320,320 0 1,1 -640,0" id="circle1"></path><path d="M337.5,337.5 m-280,0 a280,280 0 1,1 560,0 a280,280 0 1,1 -560,0" id="circle2"></path><path d="M337.5,337.5 m-240,0 a240,240 0 1,1 480,0 a240,240 0 1,1 -480,0" id="circle3"></path><path d="M337.5,337.5 m-200,0 a200,200 0 1,1 400,0 a200,200 0 1,1 -400,0" id="circle4"></path><path d="M337.5,337.5 m-160,0 a160,160 0 1,1 320,0 a160,160 0 1,1 -320,0" id="circle5"></path></defs><text class="mandala-accent-1" dy="70" textLength="2010"><textPath textLength="2010" href="#circle1">&nbsp;&nbsp;&nbsp;/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>&nbsp;&nbsp;&nbsp;/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>&nbsp;&nbsp;&nbsp;/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>&nbsp;&nbsp;&nbsp;/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>&nbsp;&nbsp;&nbsp;/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>&nbsp;&nbsp;&nbsp;/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>&nbsp;&nbsp;&nbsp;/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan>/<tspan>/</tspan></textPath></text><text class="mandala-accent-2" dy="70" textLength="1760"><textPath textLength="1760" href="#circle2">&nbsp;&nbsp;+<tspan>+</tspan>+<tspan>+</tspan>+<tspan>+</tspan>&nbsp;&nbsp;+<tspan>+</tspan>+<tspan>+</tspan>+<tspan>+</tspan>&nbsp;&nbsp;+<tspan>+</tspan>+<tspan>+</tspan>+<tspan>+</tspan>&nbsp;&nbsp;+<tspan>+</tspan>+<tspan>+</tspan>+<tspan>+</tspan>&nbsp;&nbsp;+<tspan>+</tspan>+<tspan>+</tspan>+<tspan>+</tspan>&nbsp;&nbsp;+<tspan>+</tspan>+<tspan>+</tspan>+<tspan>+</tspan>&nbsp;&nbsp;+<tspan>+</tspan>+<tspan>+</tspan>+<tspan>+</tspan></textPath></text><text class="mandala-accent-3" dy="70" textLength="1507"><textPath textLength="1507" href="#circle3"><tspan>&lt;</tspan>&lt;<tspan>&lt;</tspan>&lt;&nbsp;<tspan>&gt;</tspan>&gt;<tspan>&gt;</tspan>&gt;&nbsp;&nbsp;<tspan>&lt;</tspan>&lt;<tspan>&lt;</tspan>&lt;&nbsp;<tspan>&gt;</tspan>&gt;<tspan>&gt;</tspan>&gt;&nbsp;&nbsp;<tspan>&lt;</tspan>&lt;<tspan>&lt;</tspan>&lt;&nbsp;<tspan>&gt;</tspan>&gt;<tspan>&gt;</tspan>&gt;&nbsp;&nbsp;<tspan>&lt;</tspan>&lt;<tspan>&lt;</tspan>&lt;&nbsp;<tspan>&gt;</tspan>&gt;<tspan>&gt;</tspan>&gt;&nbsp;&nbsp;<tspan>&lt;</tspan>&lt;<tspan>&lt;</tspan>&lt;&nbsp;<tspan>&gt;</tspan>&gt;<tspan>&gt;</tspan>&gt;&nbsp;&nbsp;<tspan>&lt;</tspan>&lt;<tspan>&lt;</tspan>&lt;&nbsp;<tspan>&gt;</tspan>&gt;<tspan>&gt;</tspan>&gt;&nbsp;&nbsp;</textPath></text><text class="mandala-accent-4" dy="70" textLength="1257"><textPath textLength="1257" href="#circle4">&nbsp;&nbsp;&nbsp;../../ &nbsp;&nbsp;&nbsp;../../ &nbsp;&nbsp;&nbsp;../../ &nbsp;&nbsp;&nbsp;../../ &nbsp;&nbsp;&nbsp;../../ &nbsp;&nbsp;&nbsp;../../ &nbsp;&nbsp;&nbsp;../../</textPath></text><text class="mandala-accent-5" dy="70" textLength="1005"><textPath textLength="1005" href="#circle5"><tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;<tspan>&lt;&gt;</tspan>&lt;/&gt;</textPath></text></svg>
</div> -->
<!-- <button (click)="uuid()">生成 UUID</button>
<button (click)="parser()">html</button> -->

<div class="m-container page-top">
  <div nz-row [nzGutter]="16">
    <div nz-col nzXs="24" nzSm="24" nzMd="16" nzLg="16">
      <h3>输入</h3>
      <textarea class="inputArea" rows="8" nz-input [(ngModel)]="inputValue" #inputEl></textarea>

      <h3>输出</h3>
      <textarea class="inputArea" rows="8" nz-input [(ngModel)]="resultValue"></textarea>
      <div class="mt-3 mb-3">
        <button (click)="copy(resultValue)">复制</button>
      </div>
    </div>
    <div nz-col nzXs="24" nzSm="24" nzMd="8" nzLg="8">
      <div class="mb-3 bg-muted" style="padding: 1em;">
        <button (click)="addItem()">在线正则</button>
        <button (click)="addItem()">过滤</button>
        <button (click)="addItem()">base64</button>
      </div>
      
      <div [formGroup]="validateForm">
        <div formArrayName="processList">
          <div class="flex mb-2" *ngFor="let item of processList.controls; let i=index">
            <div style="flex: 1 1 auto;" [formGroupName]="i">
              <nz-select formControlName="value" (ngModelChange)="setInputValue(i)" style="width: 150px;">
                <nz-option *ngFor="let p of processOption" [nzValue]="p" [nzLabel]="p.name"></nz-option>
              </nz-select>
              {{processList?.value[i]?.value?.desc}}
              <textarea #textarea *ngIf="processList?.value[i]?.value?.inputStr" nz-input formControlName="inputStr" placeholder="Controlled autosize" [nzAutosize]="{ minRows: 3, maxRows: 5 }"></textarea>
              <textarea #textarea *ngIf="processList?.value[i]?.value?.fnBody" nz-input formControlName="fnBody" placeholder="Controlled autosize" [nzAutosize]="{ minRows: 3, maxRows: 5 }"></textarea>
              <!-- <ng-container *ngTemplateOutlet="menuTpl; context: { $implicit: {menus: null} }"></ng-container> -->
            </div>

            <button nz-button nzType="primary" nz-popconfirm nzPopconfirmTitle="确定删除分类吗?" nzPopconfirmPlacement="bottom"
              (nzOnConfirm)="removeItem(i)">删除</button>
          </div>
        </div>
      </div>
      <button nz-button nzType="primary" (click)="run()">执行</button>
      <button nz-button nzType="primary" (click)="addItem()">添加</button>
    </div>
  </div>
</div>

<!-- <ng-template #menuTpl let-params>
  <div>
    正则 {{params|json}}
  </div>
</ng-template> -->