<div class="m-container page-top">
  <div #artAnchor class="anchor"></div>
  <!-- <div class="mb-3" style="width: 100%;height: 300px;">
    <app-carousel xy="y"></app-carousel>
  </div> -->
  <div class="mb-3" style="text-align: center">
    <button class="mr-1 m-button"
      [class.active]="tagIndex==null"
      (click)="switchTitle()">最新</button>
    <button *ngFor="let item of tagColunm; let i=index" class="mr-1 m-button" [class.active]="i==tagIndex"
      (click)="switchTitle(i)">{{item?.title}}</button>
  </div>
  <div nz-row [nzGutter]="16">
    
    <div nz-col nzXs="24" nzSm="24" nzMd="18">
      <div nz-row [nzGutter]="16">
        <div nz-col nzXs="24" nzSm="24" nzMd="12" class="mb-3" *ngFor="let item of listPageData?.list">
          <app-card [data]="item"></app-card>
        </div>
      </div>
      <nz-pagination [(nzPageIndex)]="listPageData.pageIndex" [nzTotal]="listPageData.total" [nzSize]="'small'"
        [nzShowTotal]="totalTemplate" (nzPageIndexChange)="load($event, true)"></nz-pagination>
      <ng-template #totalTemplate let-total>共 {{ listPageData.total }} 条</ng-template>
    </div>
    <div nz-col nzXs="24" nzSm="24" nzMd="6">
      <div class="sticky">
        <div class="panel mb-3">
          <div class="panel-header">
            <span class="title">标签</span>
          </div>
          <div class="panel-body">
            <button class="m-button mr-1 mb-1" [class.active]="item?.isSelected" *ngFor="let item of tagData;let index =index"
              (click)="selectEvent(item)">
              {{item.title}}
            </button>
          </div>
        </div>
        <div class="panel">
          <div class="panel-header">
            <span class="title">推荐</span>
          </div>
          <ul role='list'>
            <li *ngFor="let item of recommend;let index =index" class="panel-list">
              <div class="title">
                <a [routerLink]="[item.link]" class="alink" [title]="item.title">
                  <span class="mark">✓</span>
                  {{item.title}}
                </a>
              </div>
              <div class="desc">{{item.descItem}}</div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>