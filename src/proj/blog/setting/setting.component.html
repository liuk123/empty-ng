<div class="m-container flex">
  <div style="width:600px">
    <div class="panel">
      <div class="panel-header">
        <span class="title">头像修改</span>
      </div>
      <app-avatar-select [items]="avatars" [(selectItem)]="selectAvatar"></app-avatar-select>
      <button
            nz-button
            nzType="primary"
            nzShape="round"
            (click)="saveAvatar()">保存</button>
    </div>
    <div class="panel">
      <div class="panel-header">
        <span class="title">分类修改</span>
        <div class="rt-btn flex">
          <input
            nz-input
            placeholder="添加分类"
            [(ngModel)]="categoryValue"
          />
          <button
            nz-button
            nzType="primary"
            nzShape="round"
            (click)="addCategory()">添加</button>
        </div>
      </div>
      <div class="panel-body mb-3">
        
        <div [formGroup] = "validateForm">
          <div formArrayName="categoryList">
            <div class="flex mb-2" *ngFor="let item of categoryList.controls; let i=index">
              <div style="flex: 1 1 auto;" [formGroupName]="i">
                <input type="hidden" formControlName="id">
                <input nz-input formControlName="name"/>
              </div>
              <button
                nz-button
                nzType="primary"
                nzShape="round"
                nz-popconfirm
                nzPopconfirmTitle="确定修改分类吗?"
                nzPopconfirmPlacement="bottom"
                (nzOnConfirm)="editCategory(item.value)"
                >修改</button>
              <button
                nz-button
                nzType="primary"
                nzShape="round"
                nz-popconfirm
                nzPopconfirmTitle="确定删除分类吗?"
                nzPopconfirmPlacement="bottom"
                (nzOnConfirm)="removeCategory(i, item.value)"
                >删除</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
