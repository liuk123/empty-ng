<div class="btn-list-container">
  <ng-container *ngTemplateOutlet="menuTpl; context: { $implicit: {menus:data} }">
  </ng-container>
  <ng-template #menuTpl let-params>
    <ng-container  *ngFor="let item of params.menus">
      <div class="btn-item" *ngIf="item">
        <div class="btn-title">
          <i nz-icon [nzType]="item.icon" nzTheme="outline" class="icon mr-2" *ngIf="item.icon"></i>
          <ng-container  [ngSwitch]="item.type" *ngIf="isMenu else menutitle">
            <a
              *ngSwitchCase="'router'"
              [routerLink]="[item.route]" class="alink">
              <span>{{item.title}}</span>  
            </a>
            <a *ngSwitchCase="'link'" [href]="item.link" class="alink">
              <span>{{item.title}}</span>
            </a>
            <span *ngSwitchDefault (click)="menuClick(item)" style="cursor: pointer;">{{item.title}}</span>
          </ng-container>
          <ng-template #menutitle>
            <span (click)="menuClick(item)" style="cursor: pointer;">{{item.title}}</span>
          </ng-template>
          <span style="flex:1 1 auto"></span>
          <i nz-icon nzType="right" nzTheme="outline" *ngIf="item.type == 'sub' || children && item[children]"
            (click)="openToggle(item)" [style.transform]="'rotate('+ (item.selected?90:0) +'deg)'"
            class="upImg"></i>
        </div>
        <div class="btn-list" [class.active]="item.selected">
          <ng-container *ngTemplateOutlet="menuTpl; context: {
              $implicit: {
                menus: children&&item[children]||item.children
              }}">
          </ng-container>
        </div>
      </div>
    </ng-container>
  </ng-template>
</div>